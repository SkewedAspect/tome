//----------------------------------------------------------------------------------------------------------------------
// Recent REST API
//----------------------------------------------------------------------------------------------------------------------

const express = require('express');

const { promisify } = require('./utils');

// Managers
const wikiMan = require('../api/managers/wiki');

//----------------------------------------------------------------------------------------------------------------------

const router = express.Router();

//----------------------------------------------------------------------------------------------------------------------

router.get('/wiki', promisify((req) =>
{
    const max = req.query.max;
    return wikiMan.getRecentPageRevisions(max);
}));

router.get('/comments', promisify((req) =>
{
    const max = req.query.max;
    return wikiMan.getRecentComments(max);
}));

//----------------------------------------------------------------------------------------------------------------------

module.exports = router;

//----------------------------------------------------------------------------------------------------------------------
